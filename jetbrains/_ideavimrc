" ========== 插件 ==========

set surround
set highlightedyank
set ideamarks



" ========== 通用设置 ==========

" 打开相对行号和行号
set rnu nu

" 共享系统粘贴板
set clipboard+=unnamed, unnamedplus

" 设置搜索高亮
set hlsearch
" 模式搜索实时预览，增量搜索
set incsearch
" 忽略大小写（配合 smartcase）
set ignorecase
" 当搜索字符出现大写时，自动切换大小写敏感
set smartcase

" 滚动时设置光标距离屏幕边缘距离 10 行
set scrolloff=5



" ========== 按键映射 ==========

" leader 键
let mapleader=","

" 光标移动
noremap i <Up>
noremap j <Left>
noremap k <Down>
noremap l <Right>

nnoremap <A-i> <Up>
nnoremap <A-j> <Left>
nnoremap <A-k> <Down>
nnoremap <A-l> <Right>

inoremap <A-i> <Up>
inoremap <A-j> <Left>
inoremap <A-k> <Down>
inoremap <A-l> <Right>

noremap <S-i> 5<Up>
noremap <S-j> ^
noremap <S-k> 5<Down>
noremap <S-l> g_

" 整行移动
nnoremap <S-A-i> :action MoveLineUp<CR>
nnoremap <S-A-k> :action MoveLineDown<CR>
vnoremap <S-A-i> :action MoveLineUp<CR>
vnoremap <S-A-k> :action MoveLineDown<CR>

" 向下复制一整行
nnoremap <C-A-k> :action EditorDuplicate<CR>
vnoremap <C-A-k> :action EditorDuplicate<CR>

" 切换 Tab
nnoremap <S-A-l> :action NextTab<CR>
nnoremap <S-A-j> :action PreviousTab<CR>

" 多光标模式
nnoremap <leader>v <C-v>

" 清除搜索后的高亮
nnoremap <leader>h :noh<CR>

" 格式化代码
nnoremap <leader>f :action ReformatCode<CR>

" 切换行注释
nnoremap <leader>c :action CommentByLineComment<CR>
vnoremap <leader>c :action CommentByLineComment<CR>

" 窗口切换
nnoremap <C-i> <C-w>k
nnoremap <C-j> <C-w>h
nnoremap <C-k> <C-w>j
nnoremap <C-l> <C-w>l

" 切换缩进
nnoremap > >>
nnoremap < <<

" 退出
noremap Q :q<CR>

" 调整 ESC
inoremap jj <ESC>

" 插入模式
nnoremap <Space> i

" 恢复由于 noremap i 导致的组合键错误
nnoremap ciw ciw
nnoremap diw diw
nnoremap viw viw
nnoremap yiw yiw

" 重构
nnoremap <leader>rf :action Refactorings.QuickListPopupAction<CR>
vnoremap <leader>rf :action Refactorings.QuickListPopupAction<CR>
" 重命名
nnoremap <leader>rn :action RenameElement<CR>

" 显示文档弹窗
nnoremap gh :action QuickJavaDoc<CR>
" 显示错误弹窗
nnoremap ge :action ShowErrorDescription<CR>

" 显示可用修复
nnoremap qf :action ShowIntentionActions<CR>
